---
title: Redis知识归纳(三)管道（Pipelining）
date: 2020-04-02 22:32:49
tags: Redis
categories: Redis
---

[管道（Pipelining）](http://redis.cn/topics/pipelining.html)是个强大的武器，它可以让我们很大程度上提高性能。

<!-- more -->

### 性能问题

Redis是一种基于客户端-服务端模型以及请求/响应协议的TCP服务。

这意味着通常情况下，一个请求会遵循以下步骤：

1. 客户端向服务端发送一个查询请求，并监听socket返回，通常是以阻塞模式 ，等待服务端响应。
2. 服务端处理命令，并将结果返回给客户端。

也就是说我们的每一个命令都需要等待上个命令处理完之后才能处理我们的当前命令。所以就需要另外一种方式来解决这种问题。

### Pipeline

管道 Pipeline将一批命令打包到一个内部维护的queue中，然后建立socket与server交互，然后只需要发送一次命令，而不需要等待请求的回复，只需要在最后一次一并读取结果即可。

### 应用场景

1. 大批量插入，如果单个循环插入，会导致速度很慢。可以用在缓存预热的场景
2. 群发短信等实时性不高的场景下。

### 举例说明

